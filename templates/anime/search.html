{% extends 'base.html' %}

{% block content %}

<div class="container text-center">
    <div class="row row-cols-5">
      {% for anime in animes.data %}
            <div class="col">
                <p class="anime-title text-truncate text-center" style="max-width:15vw"> <a class="link-body-emphasis link-offset-2 link-underline-opacity-0 link-underline-opacity-75-hover"
                    href="/anime/{{ anime.mal_id }}">{{ anime.title }}</a> </p>
                <img class="anime-img img-fluid" src="{{anime.images.jpg.image_url}}">
            </div>
      {% endfor %}
    </div>
</div>

<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    {% if animes.pagination.current_page > 1 %}
      <li class="page-item"><a class="page-link" href="/anime/search?q={{search}}&page={{animes.pagination.current_page - 1}}">Previous</a></li>
    {% endif %}

    <li class="page-item"><a class="page-link" href="/anime/search?q={{search}}&page={{animes.pagination.current_page}}">{{ animes.pagination.current_page }}</a></li>
    
    {% if animes.pagination.current_page != animes.pagination.last_visible_page %}
      <li class="page-item"><a class="page-link" href="/anime/search?q={{search}}&page={{animes.pagination.current_page + 1}}">Next</a></li>
    {% endif %}
  </ul>
</nav>

<input value="{{search}}" type="hidden" name="q">

{% endblock %}